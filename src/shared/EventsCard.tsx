import React from 'react';
import { View, Text, StyleSheet, TouchableOpacity, Image } from 'react-native';
import Svg, { Path } from 'react-native-svg';

type Props = {
  title: string;
  date: string;
  time: string;
  location: string;
  icon?: 'spotify' | 'vf';
  image?: any;
};

const EventsCard = ({ 
  title, 
  date, 
  time, 
  location, 
  icon = 'spotify',
  image
}: Props) => {
  const renderIcon = () => {
    if (icon === 'spotify') {
      return (
        <Svg width="20" height="20" viewBox="0 0 32 32" fill="none">
          <Path d="M16.0003 0C7.16376 0 0 7.16357 0 16.0001C0 24.837 7.16376 32 16.0003 32C24.8378 32 32.0008 24.837 32.0008 16.0001C32.0008 7.16414 24.8378 0.000764253 16.0001 0.000764253L16.0003 0ZM23.3379 23.0767C23.0513 23.5467 22.4361 23.6958 21.9661 23.4073C18.2094 21.1126 13.4802 20.5929 7.91063 21.8654C7.37393 21.9877 6.83895 21.6514 6.71667 21.1145C6.59382 20.5776 6.92875 20.0426 7.46679 19.9204C13.5617 18.5279 18.7898 19.1274 23.0074 21.7049C23.4774 21.9934 23.6264 22.6067 23.3379 23.0767ZM25.2963 18.7201C24.9352 19.307 24.1671 19.4924 23.5806 19.1313C19.2797 16.4877 12.7237 15.7221 7.63664 17.2663C6.9769 17.4656 6.28009 17.0937 6.07985 16.4351C5.88115 15.7754 6.25315 15.0799 6.91175 14.8793C12.7226 13.1162 19.9465 13.9702 24.8855 17.0053C25.4721 17.3664 25.6574 18.1343 25.2963 18.7201ZM25.4645 14.1835C20.3076 11.1205 11.7996 10.8389 6.87602 12.3332C6.08539 12.573 5.2493 12.1267 5.0097 11.336C4.77011 10.545 5.21605 9.7095 6.00725 9.46914C11.6591 7.75338 21.0547 8.08488 26.9918 11.6094C27.7045 12.0315 27.9376 12.9499 27.5153 13.6601C27.095 14.3713 26.1741 14.6057 25.4652 14.1835H25.4645Z" fill="#1ED760"/>
        </Svg>
      );
    } else {
      return (
        <Svg width="20" height="20" viewBox="0 0 64 64" fill="none">
          <Path d="M19.6398 23.3762C19.0147 23.4765 18.2971 23.7511 17.8172 24.0779C17.4562 24.322 16.9675 24.8188 16.7122 25.1936C16.2588 25.8692 16.0474 26.5055 16.0078 27.3205C15.977 27.9524 16.0342 28.3447 16.2323 28.9243C16.5757 29.9223 17.355 30.7983 18.3279 31.2865C18.909 31.5785 19.3757 31.6874 20.287 31.7397C21.6077 31.8225 22.6598 32.254 23.4787 33.0516C24.3636 33.9101 24.8038 34.9474 24.9271 36.4597C25.0768 38.2553 25.9 39.5323 27.3748 40.247C27.9999 40.5477 28.4622 40.6523 29.2018 40.6523C29.6684 40.6523 29.8798 40.6349 30.1835 40.5565C31.0024 40.356 31.6803 39.9637 32.2526 39.3754C33.0187 38.5822 33.3488 37.8064 33.4325 36.6253C33.4853 35.8496 33.569 35.3701 33.7363 34.8733C34.2029 33.4874 35.1538 32.5286 36.5406 32.0361C37.2714 31.7746 37.1173 31.7833 40.8857 31.7441C44.6806 31.7049 44.597 31.7092 45.3013 31.439C46.917 30.8245 48 29.2686 48 27.5602C48 27.0197 47.9428 26.6754 47.7623 26.1525C47.5025 25.3985 46.9786 24.6837 46.3315 24.1956C45.9397 23.9036 45.2485 23.5767 44.7642 23.4547C44.368 23.3545 44.3592 23.3545 40.9562 23.3545C37.5575 23.3545 37.5443 23.3545 37.1525 23.4547C35.9286 23.7598 34.9161 24.566 34.3614 25.6643C34.04 26.3093 33.9123 26.8541 33.9123 27.6037C33.9123 29.4778 33.0275 30.9814 31.469 31.7528C30.7382 32.1189 30.0691 32.2671 29.1842 32.2671C28.493 32.2671 28.0924 32.2104 27.5465 32.0274C25.9969 31.5131 25.0151 30.4628 24.5925 28.872C24.5 28.5277 24.478 28.3185 24.4604 27.6909C24.4428 27.0764 24.4164 26.8498 24.3327 26.5142C23.9409 25.0019 22.7479 23.8339 21.2115 23.4591C20.8064 23.3632 20.0052 23.3196 19.6398 23.3762Z" fill="#007083"/>
          <Path d="M37.279 32.9882C36.6891 33.1146 36.3237 33.3194 35.8658 33.7683C35.5841 34.0473 35.4696 34.1998 35.3243 34.4918C34.774 35.6075 34.9677 36.8452 35.8394 37.7169C36.6759 38.5493 37.8161 38.7934 38.9167 38.3706C40.1758 37.8912 40.933 36.5315 40.6732 35.2283C40.4971 34.361 39.9248 33.6114 39.15 33.2323C38.5425 32.9403 37.8909 32.8531 37.279 32.9882Z" fill="#007083"/>
        </Svg>
      );
    }
  };

  return (
    <TouchableOpacity style={styles.eventCard}>
      <View style={styles.thumbnail}>
        <Image
          source={require('../assets/images/eventcard.png')}
          style={styles.eventImage}
          resizeMode="cover"
        />
      </View>
      
      <View style={styles.content}>
        <View style={styles.headerRow}>
          <View style={styles.iconCircle}>
            {renderIcon()}
          </View>
          <Text style={styles.subtitle}>{title}</Text>
        </View>
        
        <View style={styles.detailsWrapper}>
          <View style={styles.dateRow}>
            <View style={styles.dateTextRow}>
              <Svg width="12" height="12" viewBox="0 0 21 20" fill="none">
                <Path d="M16.8872 2.5H15.0122V1.875C15.0122 1.70924 14.9464 1.55027 14.8291 1.43306C14.7119 1.31585 14.553 1.25 14.3872 1.25C14.2214 1.25 14.0625 1.31585 13.9453 1.43306C13.8281 1.55027 13.7622 1.70924 13.7622 1.875V2.5H7.51221V1.875C7.51221 1.70924 7.44636 1.55027 7.32915 1.43306C7.21194 1.31585 7.05297 1.25 6.88721 1.25C6.72145 1.25 6.56248 1.31585 6.44527 1.43306C6.32806 1.55027 6.26221 1.70924 6.26221 1.875V2.5H4.38721C4.05569 2.5 3.73774 2.6317 3.50332 2.86612C3.2689 3.10054 3.13721 3.41848 3.13721 3.75V16.25C3.13721 16.5815 3.2689 16.8995 3.50332 17.1339C3.73774 17.3683 4.05569 17.5 4.38721 17.5H16.8872C17.2187 17.5 17.5367 17.3683 17.7711 17.1339C18.0055 16.8995 18.1372 16.5815 18.1372 16.25V3.75C18.1372 3.41848 18.0055 3.10054 17.7711 2.86612C17.5367 2.6317 17.2187 2.5 16.8872 2.5ZM6.26221 3.75V4.375C6.26221 4.54076 6.32806 4.69973 6.44527 4.81694C6.56248 4.93415 6.72145 5 6.88721 5C7.05297 5 7.21194 4.93415 7.32915 4.81694C7.44636 4.69973 7.51221 4.54076 7.51221 4.375V3.75H13.7622V4.375C13.7622 4.54076 13.8281 4.69973 13.9453 4.81694C14.0625 4.93415 14.2214 5 14.3872 5C14.553 5 14.7119 4.93415 14.8291 4.81694C14.9464 4.69973 15.0122 4.54076 15.0122 4.375V3.75H16.8872V6.25H4.38721V3.75H6.26221ZM16.8872 16.25H4.38721V7.5H16.8872V16.25Z" fill="#808080"/>
              </Svg>
              <Text style={styles.dateText}>{date}</Text>
            </View>
            <View style={styles.timeTextRow}>
              <Text style={styles.timeText}>-</Text>
              <Text style={styles.timeText}>{time}</Text>
            </View>
          </View>
          
          <View style={styles.locationRow}>
            <View style={styles.locationTextRow}>
              <Svg width="12" height="12" viewBox="0 0 21 20" fill="none">
                <Path d="M9.38721 6.25C9.38721 6.00277 9.46052 5.7611 9.59787 5.55554C9.73522 5.34998 9.93045 5.18976 10.1589 5.09515C10.3873 5.00054 10.6386 4.97579 10.8811 5.02402C11.1235 5.07225 11.3463 5.1913 11.5211 5.36612C11.6959 5.54093 11.815 5.76366 11.8632 6.00614C11.9114 6.24861 11.8867 6.49995 11.7921 6.72835C11.6974 6.95676 11.5372 7.15199 11.3317 7.28934C11.1261 7.42669 10.8844 7.5 10.6372 7.5C10.3057 7.5 9.98774 7.3683 9.75332 7.13388C9.5189 6.89946 9.38721 6.58152 9.38721 6.25ZM5.63721 6.25C5.63721 4.92392 6.16399 3.65215 7.10167 2.71447C8.03935 1.77678 9.31112 1.25 10.6372 1.25C11.9633 1.25 13.2351 1.77678 14.1727 2.71447C15.1104 3.65215 15.6372 4.92392 15.6372 6.25C15.6372 10.9336 11.1388 13.5578 10.9497 13.668C10.8553 13.722 10.7483 13.7504 10.6396 13.7504C10.5308 13.7504 10.4238 13.722 10.3294 13.668C10.1356 13.5578 5.63721 10.9375 5.63721 6.25ZM6.88721 6.25C6.88721 9.54688 9.68721 11.7352 10.6372 12.3828C11.5864 11.7359 14.3872 9.54688 14.3872 6.25C14.3872 5.25544 13.9921 4.30161 13.2889 3.59835C12.5856 2.89509 11.6318 2.5 10.6372 2.5C9.64265 2.5 8.68882 2.89509 7.98556 3.59835C7.2823 4.30161 6.88721 5.25544 6.88721 6.25ZM16.4786 11.5336C16.3248 11.4828 16.1572 11.4937 16.0113 11.564C15.8653 11.6343 15.7524 11.7585 15.6963 11.9105C15.6401 12.0625 15.6452 12.2303 15.7104 12.3786C15.7756 12.5269 15.8959 12.6441 16.0458 12.7055C17.3356 13.1828 18.1372 13.8219 18.1372 14.375C18.1372 15.4187 15.2841 16.875 10.6372 16.875C5.99033 16.875 3.13721 15.4187 3.13721 14.375C3.13721 13.8219 3.93877 13.1828 5.22861 12.7063C5.37854 12.6449 5.49879 12.5277 5.56399 12.3794C5.6292 12.2311 5.63428 12.0633 5.57815 11.9113C5.52202 11.7593 5.40908 11.6351 5.26313 11.5648C5.11718 11.4945 4.94963 11.4836 4.7958 11.5344C2.92002 12.2258 1.88721 13.2352 1.88721 14.375C1.88721 16.8109 6.3958 18.125 10.6372 18.125C14.8786 18.125 19.3872 16.8109 19.3872 14.375C19.3872 13.2352 18.3544 12.2258 16.4786 11.5336Z" fill="#808080"/>
              </Svg>
              <Text style={styles.locationText}>{location}</Text>
            </View>
          </View>
        </View>
      </View>
    </TouchableOpacity>
  );
};

const styles = StyleSheet.create({
  eventCard: {
    flexDirection: "row",
    alignItems: "flex-start",
    paddingVertical: 8,
    paddingHorizontal: 16,
    gap: 16,
    width: 358,
    height: 100,
    borderRadius: 12,
    backgroundColor: "#FFF",
    alignSelf: 'center',
  },

  thumbnail: {
    width: 72,
    height: 84,
    borderRadius: 8,
    overflow: "hidden",
  },

  eventImage: {
    width: 72,
    height: 84,
    borderRadius: 8,
  },

  content: {
    flexDirection: "column",
    alignItems: "flex-start",
    gap: 8,
    width: 238,
    height: 84,
    flexGrow: 1,
  },

  headerRow: {
    flexDirection: "row",
    alignItems: "center",
    gap: 8,
    width: 238,
    height: 32,
  },

  iconCircle: {
    width: 32,
    height: 32,
    backgroundColor: "#C4EAF3",
    borderRadius: 16,
    alignItems: "center",
    justifyContent: "center",
  },

  spotifyIcon: {
    width: 20,
    height: 20,
    borderRadius: 10,
    backgroundColor: '#1DB954',
    justifyContent: 'center',
    alignItems: 'center',
  },
  vfIcon: {
    width: 20,
    height: 20,
    borderRadius: 10,
    backgroundColor: '#4A90E2',
    justifyContent: 'center',
    alignItems: 'center',
  },

  subtitle: {
    fontFamily: "Nunito",
    fontWeight: "600",
    fontSize: 14,
    lineHeight: 19,
    letterSpacing: -0.408,
    color: "#000000",
  },

  detailsWrapper: {
    flexDirection: "column",
    alignItems: "flex-start",
    paddingHorizontal: 6,
    gap: 4,
    width: 238,
    height: 44,
  },

  dateRow: {
    flexDirection: "row",
    alignItems: "center",
    gap: 8,
    width: 226,
    height: 20,
  },

  dateTextRow: {
    flexDirection: "row",
    alignItems: "center",
    gap: 4,
    width: 100,
    height: 16,
  },

  dateText: {
    fontFamily: "Nunito",
    fontSize: 12,
    fontWeight: "500",
    lineHeight: 16,
    letterSpacing: -0.408,
    color: "#808080",
  },

  timeTextRow: {
    flexDirection: "row",
    alignItems: "center",
    gap: 0,
    width: 53,
    height: 16,
  },

  timeText: {
    fontFamily: "Nunito",
    fontSize: 12,
    fontWeight: "500",
    lineHeight: 16,
    letterSpacing: -0.408,
    color: "#808080",
  },

  locationRow: {
    flexDirection: "row",
    alignItems: "center",
    gap: 8,
    width: 226,
    height: 20,
  },

  locationTextRow: {
    flexDirection: "row",
    alignItems: "center",
    gap: 8,
    width: 177,
    height: 16,
  },

  locationText: {
    fontFamily: "Nunito",
    fontSize: 12,
    fontWeight: "500",
    lineHeight: 16,
    letterSpacing: -0.408,
    color: "#808080",
  },
});

export default EventsCard;
